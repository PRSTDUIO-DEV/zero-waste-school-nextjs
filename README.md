# Zero Waste School System üå±

‡∏£‡∏∞‡∏ö‡∏ö‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡πÅ‡∏•‡∏∞‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ç‡∏¢‡∏∞‡πÉ‡∏ô‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡∏¥‡πà‡∏á‡πÅ‡∏ß‡∏î‡∏•‡πâ‡∏≠‡∏°‡∏ó‡∏µ‡πà‡∏î‡∏µ‡∏Å‡∏ß‡πà‡∏≤

## ‚ú® Features

- üîê **Authentication System** - ‡∏£‡∏∞‡∏ö‡∏ö‡∏•‡πá‡∏≠‡∏Å‡∏≠‡∏¥‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô ‡∏Ñ‡∏£‡∏π ‡πÅ‡∏•‡∏∞‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•
- üìä **Waste Tracking** - ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÅ‡∏•‡∏∞‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ç‡∏¢‡∏∞‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó
- üèÜ **Leaderboard** - ‡∏Å‡∏≤‡∏£‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡πÅ‡∏•‡∏∞‡∏´‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô
- üéñÔ∏è **Badge System** - ‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ö‡∏£‡∏£‡∏•‡∏∏‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢
- üìà **Analytics** - ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡πÅ‡∏•‡∏∞‡∏Å‡∏£‡∏≤‡∏ü‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
- üì± **Responsive Design** - ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠‡πÅ‡∏•‡∏∞‡πÅ‡∏ó‡πá‡∏ö‡πÄ‡∏•‡πá‡∏ï

## üöÄ Tech Stack

- **Frontend**: Next.js 14 + TypeScript + Tailwind CSS
- **Authentication**: NextAuth.js
- **Database**: PostgreSQL + Prisma ORM
- **Deployment**: Vercel
- **Database Hosting**: Neon (‡∏ü‡∏£‡∏µ 10GB) ‡∏´‡∏£‡∏∑‡∏≠ Supabase (‡∏ü‡∏£‡∏µ 2GB)

## üìã Requirements

‡∏ï‡∏≤‡∏° RPD Document:
- User authentication ‡πÅ‡∏•‡∏∞ role-based access
- Waste recording system (1g = 1 point default)
- Leaderboards ‡πÅ‡∏•‡∏∞ ranking system
- Badge ‡πÅ‡∏•‡∏∞ milestone system
- Admin panel ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏£‡∏∞‡∏ö‡∏ö
- Audit logging ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö admin actions

## üõ†Ô∏è Installation

### 1. Clone ‡πÅ‡∏•‡∏∞‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á dependencies

```bash
cd app-src
npm install
```

### 2. ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•

#### Option A: Neon (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥)
1. ‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏ó‡∏µ‡πà [neon.tech](https://neon.tech)
2. ‡∏™‡∏£‡πâ‡∏≤‡∏á database ‡πÉ‡∏´‡∏°‡πà
3. ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å connection string

#### Option B: Supabase
1. ‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏ó‡∏µ‡πà [supabase.com](https://supabase.com)
2. ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ‡πÉ‡∏´‡∏°‡πà
3. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà Settings > Database
4. ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å connection string

### 3. ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Environment Variables

‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå `.env` ‡πÅ‡∏•‡∏∞‡πÄ‡∏û‡∏¥‡πà‡∏°:

```env
# Database (‡πÅ‡∏ó‡∏ô‡∏ó‡∏µ‡πà‡∏î‡πâ‡∏ß‡∏¢ URL ‡∏à‡∏£‡∏¥‡∏á‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì)
DATABASE_URL="postgresql://username:password@hostname:5432/dbname?sslmode=require"

# NextAuth
NEXTAUTH_SECRET="your-super-secret-key-change-this"
NEXTAUTH_URL="http://localhost:3000"
```

### 4. Setup Database Schema

```bash
# Generate Prisma client
npx prisma generate

# Push schema to database
npx prisma db push

# Optional: Seed data
npx prisma db seed
```

### 5. Run Development Server

```bash
npm run dev
```

‡πÄ‡∏õ‡∏¥‡∏î [http://localhost:3000](http://localhost:3000) ‡πÉ‡∏ô‡πÄ‡∏ö‡∏£‡∏≤‡∏ß‡πå‡πÄ‡∏ã‡∏≠‡∏£‡πå

## üóÉÔ∏è Database Schema

```prisma
model User {
  id           Int      @id @default(autoincrement())
  name         String
  email        String   @unique
  pwdHash      String
  role         Role     @default(STUDENT)
  grade        Int?     // 1-6 for students
  classSection String?  // e.g. "2"
  
  wasteRecords WasteRecord[]
  userBadges   UserBadge[]
  auditLogs    AuditLog[]
}

model WasteType {
  id          Int     @id @default(autoincrement())
  name        String
  pointFactor Decimal @default(1.00)
  
  wasteRecords WasteRecord[]
}

model WasteRecord {
  id       Int      @id @default(autoincrement())
  userId   Int
  typeId   Int
  weightG  Int      // weight in grams
  points   Int      // calculated points
  recordDt DateTime @default(now())
  
  user      User      @relation(fields: [userId], references: [id])
  wasteType WasteType @relation(fields: [typeId], references: [id])
}
```

## üö¢ Deployment

### Deploy ‡∏ö‡∏ô Vercel

1. Push code ‡∏Ç‡∏∂‡πâ‡∏ô GitHub
2. Connect repository ‡∏Å‡∏±‡∏ö Vercel
3. ‡πÄ‡∏û‡∏¥‡πà‡∏° Environment Variables ‡πÉ‡∏ô Vercel Dashboard:
   - `DATABASE_URL`
   - `NEXTAUTH_SECRET`
   - `NEXTAUTH_URL` (URL ‡∏Ç‡∏≠‡∏á production)

### Database Migration ‡∏ö‡∏ô Production

```bash
npx prisma migrate deploy
```

## üîë Default Users

‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å seed data:

```
Admin: admin@school.ac.th / admin123
Teacher: teacher@school.ac.th / teacher123
Student: student@school.ac.th / student123
```

## üì± API Routes

- `POST /api/auth/[...nextauth]` - Authentication
- `GET/POST /api/waste-records` - Waste record management
- `GET /api/leaderboard` - Ranking data
- `GET /api/stats` - User statistics
- `GET/POST /api/admin/*` - Admin operations

## ü§ù Contributing

1. Fork repository
2. ‡∏™‡∏£‡πâ‡∏≤‡∏á feature branch
3. Commit changes
4. Push ‡πÅ‡∏•‡∏∞‡∏™‡∏£‡πâ‡∏≤‡∏á Pull Request

## üìÑ License

MIT License - ‡∏î‡∏π‡πÑ‡∏ü‡∏•‡πå LICENSE ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î

## üÜò Support

‡∏´‡∏≤‡∏Å‡∏û‡∏ö‡∏õ‡∏±‡∏ç‡∏´‡∏≤:
1. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö environment variables
2. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö database connection
3. ‡∏î‡∏π console logs
4. ‡∏™‡∏£‡πâ‡∏≤‡∏á issue ‡πÉ‡∏ô GitHub

---

**Zero Waste School System** - ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏î‡∏¢ ‚ù§Ô∏è ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡∏¥‡πà‡∏á‡πÅ‡∏ß‡∏î‡∏•‡πâ‡∏≠‡∏°‡∏ó‡∏µ‡πà‡∏î‡∏µ‡∏Å‡∏ß‡πà‡∏≤ üåç
